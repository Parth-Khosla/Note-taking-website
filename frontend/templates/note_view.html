{% extends 'base.html' %}

{% block title %}View Note - NoteVault{% endblock %}

{% block content %}
  <article class="note-view">
    <header>
      <h2>{{ note.title if note.title is defined else 'Note' }}</h2>
      <p class="meta">{{ note.note_type }} â€” <time>{{ note.timestamp }}</time></p>
    </header>

    <section class="note-body">
      {% if note.file_url or note.file_path %}
        {% if note.file_url %}
          <p><a href="{{ note.file_url }}">Download / View file</a></p>
        {% else %}
          <p><a href="/{{ note.file_path }}">Download / View file</a></p>
        {% endif %}
        {% if note.extracted_text %}
          <details>
            <summary>Show extracted text from file</summary>
            <pre>{{ note.extracted_text }}</pre>
          </details>
        {% endif %}
      {% elif note.content %}
        <p class="note-content">{{ note.content }}</p>
      {% else %}
        <p class="muted">No content available for this note.</p>
      {% endif %}
    </section>

    <footer>
      <p><a class="btn" href="{{ url_for('dashboard') }}">Back to Dashboard</a></p>
    </footer>
  </article>
{% endblock %}
